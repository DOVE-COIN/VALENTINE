<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Valentine üíñ</title>

  <style>
    body {
      background: #ffd6e7;
      margin: 0;
      min-height: 100vh;
      font-family: "Segoe UI", sans-serif;
      overflow-x: hidden;
    }

    /* Centering container */
    .screen {
      min-height: 100vh;
      width: 100%;
      display: flex;
      justify-content: center;
      align-items: center;
      padding: 24px;
      box-sizing: border-box;
      position: relative;
      z-index: 2;
    }

    /* Initial card */
    .card {
      background: white;
      padding: 40px;
      border-radius: 25px;
      text-align: center;
      width: 100%;
      max-width: 360px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.1);
    }

    button {
      padding: 12px 28px;
      border-radius: 30px;
      border: none;
      font-size: 16px;
      cursor: pointer;
      margin: 10px;
    }

    .yes {
      background: hotpink;
      color: white;
    }

    .no {
      background: #eee;
      position: absolute;
    }

    .hint {
      font-size: 12px;
      margin-top: 60px;
      opacity: 0.7;
    }

    /* Letter */
    .letter {
      background: white;
      width: 100%;
      max-width: 600px;
      padding: 40px;
      border-radius: 25px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.1);
      line-height: 1.7;
      position: relative;
      z-index: 2;
    }

    .letter h2 {
      text-align: center;
    }

    .sign {
      text-align: right;
      margin-top: 30px;
    }

    /* Music button */
    .music-btn {
      position: fixed;
      top: 20px;
      right: 20px;
      background: white;
      border: none;
      padding: 10px 14px;
      border-radius: 20px;
      font-size: 14px;
      cursor: pointer;
      box-shadow: 0 5px 15px rgba(0,0,0,0.15);
      z-index: 3;
      display: none;
    }

    /* Confetti canvas */
    #confetti {
      position: fixed;
      inset: 0;
      width: 100vw;
      height: 100vh;
      pointer-events: none;
      z-index: 1;
    }

    /* Mobile */
    @media (max-width: 480px) {
      .letter {
        padding: 24px;
        font-size: 15px;
      }
    }
  </style>
</head>

<body>

  <!-- SINGLE audio element -->
  <audio id="bgMusic" src="love.mp3" preload="auto"></audio>

  <!-- FIRST SCREEN -->
  <div class="screen" id="cardScreen">
    <div class="card">
      <h2>üê£üíñ</h2>
      <h3>Ol√∫wan√≠·π£·ªçl√°, will you be my Valentine?</h3>

      <button class="yes" id="yesBtn">Yes</button>
      <button class="no" id="noBtn">No</button>

      <div class="hint" id="hint"></div>
    </div>
  </div>

  <!-- LETTER SCREEN -->
  <div class="screen" id="letterScreen" style="display:none;">
    <div class="letter">
      <h2>üíñ Dear Ol√∫wan√≠·π£·ªçl√°,</h2>

      <p>Hey my love,</p>

      <p>
        Hearing you say yes made my heart so full. I can‚Äôt wait to spend this Valentine‚Äôs Day with you, holding you close and making memories that feel just as special as you are. 
      </p>

      <p>
        You bring so much light, peace and happiness into my life and I‚Äôm grateful for you every single day.
      </p>

      <p>
        You‚Äôre my heart, my calm and my happiness ‚ù§Ô∏è
      </p>

      <div style="margin-top:30px; text-align:center;">
        <img src="https://image2url.com/r2/default/images/1770053679939-5bf9abb0-b847-4544-a334-a9f9ce5cfc6a.jpg"
          style="width:100%;max-width:360px;border-radius:18px;
          box-shadow:0 8px 20px rgba(0,0,0,0.15);" />
      </div>

      <p class="sign">
        üíï Always,<br><strong>Dove</strong>
      </p>
    </div>
  </div>

  <!-- MUSIC BUTTON -->
  <button class="music-btn" id="musicBtn">üéµ Tap to play</button>

  <!-- CONFETTI -->
  <canvas id="confetti"></canvas>

  <script>
    const noBtn = document.getElementById("noBtn");
    const hint = document.getElementById("hint");
    const yesBtn = document.getElementById("yesBtn");
    const cardScreen = document.getElementById("cardScreen");
    const letterScreen = document.getElementById("letterScreen");
    const music = document.getElementById("bgMusic");
    const musicBtn = document.getElementById("musicBtn");

    // No button dodge
    noBtn.addEventListener("mouseover", () => {
      const x = Math.random() * 200 - 100;
      const y = Math.random() * 100 - 50;
      noBtn.style.transform = `translate(${x}px, ${y}px)`;
      hint.textContent = `"No" seems a bit shy because I'm in love with you ü•∞`;
    });

    // Yes click
    yesBtn.addEventListener("click", () => {
      cardScreen.style.display = "none";
      letterScreen.style.display = "flex";
      musicBtn.style.display = "block";
      startConfetti();
    });

    // Music (iOS safe)
    musicBtn.onclick = () => {
      if (music.paused) {
        music.play();
        music.volume = 0.6;
        musicBtn.textContent = "‚è∏ Pause music";
      } else {
        music.pause();
        musicBtn.textContent = "üéµ Tap to play";
      }
    };

    // Confetti
    function startConfetti() {
      const canvas = document.getElementById("confetti");
      const ctx = canvas.getContext("2d");
      const dpr = window.devicePixelRatio || 1;

      canvas.width = window.innerWidth * dpr;
      canvas.height = window.innerHeight * dpr;
      ctx.scale(dpr, dpr);

      const dots = Array.from({ length: 120 }).map(() => ({
        x: Math.random() * window.innerWidth,
        y: Math.random() * window.innerHeight,
        r: Math.random() * 5 + 3,
        d: Math.random() * 3 + 2,
        c: `hsl(${Math.random()*360},100%,70%)`
      }));

      (function draw() {
        ctx.clearRect(0,0,canvas.width,canvas.height);
        dots.forEach(p => {
          ctx.beginPath();
          ctx.arc(p.x,p.y,p.r,0,Math.PI*2);
          ctx.fillStyle=p.c;
          ctx.fill();
          p.y += p.d;
          if (p.y > window.innerHeight) p.y = -10;
        });
        requestAnimationFrame(draw);
      })();

      setTimeout(() => canvas.remove(), 8000);
    }
  </script>

</body>
</html>
